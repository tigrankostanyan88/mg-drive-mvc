<% 
    const roles = ['team-member', 'student', 'user', 'admin']; 
    const options = [tableUser.role];
     roles.forEach(role => {
    if (!options.includes(role)) options.push(role);
  });
%>

<tr>
    <td>
        <img src="https://discoverymood.com/wp-content/uploads/2020/04/Mental-Strong-Women-min-480x340.jpg" alt="image">
        <span class="pl-2"><%- tableUser.name %></span>
    </td>
    <td>
        <a href="tel:<%- tableUser.phone %>"><%- tableUser.phone %></a>
    </td>
    <td> <%- helpers.getDate(tableUser.date) %></td>
    <td>
        <form action="/api/v1/user/<%- tableUser.id %>" method="patch" class=" d-flex">
            <select class="btn btn-secondary dropdown-toggle text-start mx-1" name="role">
                <% options.forEach(option => { %>
                <option value="<%- option %>" <%- option == user.role ? 'selected' : '' %>>
                    <%- option %>
                </option>
                <% }); %>
            </select>
            <button type="submit" class="btn btn-outline-warning btn-icon-text">
                <i class="mdi mdi-reload btn-icon-prepend"></i> Թարմացնել </button>
        </form>
    </td>
    <td>
        <% if(tableUser.role == 'student') { %>
        <!-- Update student lesson count -->
        <div class="input-group">
            <form action="/api/v1/user/<%- tableUser.id %>" method="patch">
                <div class="number-field">
                    <input type="text" name="lesson_count" class="form-control text-white number" value="1">
                    <button type="submit" class="btn btn-inverse-success btn-fw px-2">Թարմացնել</button>
                </div>
            </form>
        </div>
        <% } else { %>
            <p class="text-warning">ՈՒսանող չէ</p>
        <% } %>
    </td>
    <!-- remove student -->
    <td class="text-center">
        <button type="button" class="btn btn-inverse-danger btn-fw px-2">Ջնջել</button>
    </td>
</tr>