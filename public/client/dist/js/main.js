"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _regenerator(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return _regeneratorDefine2(l,"_invoke",function(n,r,o){var a,s,c,l=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,s=0,c=e,f.n=n,i}};function p(n,r){for(s=n,c=r,t=0;!d&&l&&!o&&t<u.length;t++){var o,a=u[t],p=f.p,y=a[2];n>3?(o=y===r)&&(c=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(s=0,f.v=r,f.n=a[1]):p<y&&(o=n<3||a[0]>r||r>y)&&(a[4]=n,a[5]=r,f.n=y,s=0))}if(o||n>1)return i;throw d=!0,r}return function(o,u,y){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,y),s=u,c=y;(t=s<2?e:c)||!d;){a||(s?s<3?(s>1&&(f.n=-1),p(s,c)):f.n=c:f.v=c);try{if(l=2,a){if(s||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);a=e}else if((t=(d=f.n<0)?c:n.call(r,f))!==i)break}catch(t){a=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(n,o,a),!0),l}var i={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(_regeneratorDefine2(t={},r,function(){return this}),t),d=l.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,_regeneratorDefine2(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,_regeneratorDefine2(d,"constructor",l),_regeneratorDefine2(l,"constructor",c),c.displayName="GeneratorFunction",_regeneratorDefine2(l,o,"GeneratorFunction"),_regeneratorDefine2(d),_regeneratorDefine2(d,o,"Generator"),_regeneratorDefine2(d,r,function(){return this}),_regeneratorDefine2(d,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:a,m:f}})()}function _regeneratorDefine2(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_regeneratorDefine2=function(e,t,n,r){function a(t,n){_regeneratorDefine2(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},_regeneratorDefine2(e,t,n,r)}function asyncGeneratorStep(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){asyncGeneratorStep(a,r,o,i,s,"next",e)}function s(e){asyncGeneratorStep(a,r,o,i,s,"throw",e)}i(void 0)})}}function mouseHover(){var e=document.querySelectorAll(".mouseOverLight");e&&e.forEach(function(e){var t=document.createElement("div");t.classList.add("shadow");var n=e.parentNode;n.style.position="relative",n.appendChild(t),n.addEventListener("mousemove",function(e){var r=n.getBoundingClientRect(),o=e.clientX-r.left,a=e.clientY-r.top;t.style.opacity="1",t.style.top="".concat(a,"px"),t.style.left="".concat(o,"px"),t.animate({left:"".concat(o,"px"),top:"".concat(a,"px")},{duration:500,fill:"forwards"})}),n.addEventListener("mouseleave",function(){t.style.opacity="0"})})}function scrollAnimation(){var e={threshold:Array.from({length:101},function(e,t){return t/100})},t=new IntersectionObserver(function(e,t){e.forEach(function(e){var t=e.target;e.intersectionRatio>0?(t.style.transition="transform 0.3s ease-out, opacity 0.3s ease-in-out",t.style.transform="translateY(".concat(100*(1-e.intersectionRatio),"px)"),t.style.opacity=e.intersectionRatio):(t.style.transform="translateY(100px)",t.style.opacity="0")})},e);document.querySelectorAll(".scroll_animate").forEach(function(e){t.observe(e)})}function scrolling(){window.addEventListener("scroll",function(){var e=document.querySelector(".goToTopIcon");if(e){var t=document.querySelector(".go_to_top"),n=document.querySelector("header"),r=e.parentElement;window.scrollY>800?(t.classList.add("active"),r.href="#home",n.style.paddingTop="0",e.innerHTML='<i class="fa-solid fa-arrow-up"></i>'):(t.classList.remove("active"),n.style.paddingTop="15px",r.href="#about_me",e.innerHTML='<i class="fa-solid fa-arrow-down"></i>')}})}mouseHover(),scrolling(),scrollAnimation();var faqs=document.querySelectorAll(".faq"),backToTop=document.getElementById("backToTop"),progress=document.getElementById("progress"),navProgress=document.querySelector(".nav_progress"),questionsEl=document.querySelectorAll(".faq-question");function handleNavbar(){var e=document.querySelector("nav"),t=document.querySelector(".navbar"),n=document.querySelector("body");function r(){n.style.overflow=t.classList.contains("active")?"hidden":"auto"}document.addEventListener("click",function(e){var r=e.target.closest(".open_menu, .close_menu");r&&(r.classList.contains("open_menu")?(t.classList.add("active"),n.style.overflow="hidden"):r.classList.contains("close_menu")&&(t.classList.remove("active"),n.style.overflow="Auto"))}),window.addEventListener("resize",function(){window.innerWidth<360||window.innerWidth>992?(t.style.transition="none",t.classList.remove("active"),r()):t.style.transition="all .5s ease-in-out"}),document.querySelectorAll(".nav_link").forEach(function(e){e.addEventListener("click",function(){return t.classList.remove("active")})}),document.querySelector("body").addEventListener("click",function(){t.classList.remove("active"),r()}),window.addEventListener("scroll",function(){window.scrollY>700?e.classList.add("sticky"):e.classList.remove("sticky")})}function inputField(){function e(e,t){var n=""!==e.value.trim();null!==e&&null!==t&&(n?t.classList.add("active"):t.classList.remove("active"))}document.querySelectorAll(".input_field").forEach(function(t){var n=t.querySelector("input"),r=t.querySelector("span");e(n,r),n.addEventListener("input",function(){return e(n,r)})})}progress&&window.addEventListener("scroll",function(){window.scrollY>700?backToTop.classList.add("active"):backToTop.classList.remove("active");var e=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100;Math.round(e)>60?backToTop.style.color="#fff":backToTop.style.color="var(--primary-color)",progress.style.width=e+"%",navProgress&&(navProgress.style.width=e+"%")}),backToTop&&backToTop.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),document.addEventListener("click",function(e){if(e.target.classList.contains("gender")){var t=e.target.closest("input");document.querySelectorAll("label").forEach(function(e){return e.style.border="1px solid #ddd"}),e.target.closest("label").style.border="1px solid #ccc",setTimeout(function(){t.checked?e.target.closest("label").style.border="1px solid #444cf7":e.target.closest("label").style.border="1px solid #ccc"},10)}}),document.addEventListener("contextmenu",function(e){return e.preventDefault()}),handleNavbar(),inputField(),Array.from(document.querySelectorAll("form")).forEach(function(e){e.addEventListener("submit",function(){var t=_asyncToGenerator(_regenerator().m(function t(n){var r,o,a,i,s,c,l;return _regenerator().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n.preventDefault(),validateBootstrap(e)){t.n=1;break}return handlerNotify("Խնդրում ենք լրացնել բոլոր պարտադիր դաշտերը","warning","#ff9900"),t.a(2);case 1:return o=e.querySelector('button[type="submit"]'),a=new FormData(e),i=e.getAttribute("action"),s=null===(r=e.getAttribute("method"))||void 0===r?void 0:r.toLowerCase(),o.disabled=!0,setFormLoading(e,!0),t.p=2,c=a,"patch"!==s&&"post"!==s&&(c=Object.fromEntries(a.entries())),t.n=3,doAxios(i,s,c);case 3:(l=t.v).error||l.status>=400?handlerNotify(l.message||"Խնդրում ենք կրկին փորձել","error","#ff9900"):(handlerNotify("Հաջող մուտք","success","#1aff00"),setTimeout(function(){return window.location.reload()},1e3)),t.n=5;break;case 4:t.p=4,handlerNotify(t.v.response.data.message||"Ցանցի սխալ","warning","#CC484C");case 5:return t.p=5,setFormLoading(e,!1),o.disabled=!1,t.f(5);case 6:return t.a(2)}},t,null,[[2,4,5,6]])}));return function(e){return t.apply(this,arguments)}}())});var Questions=function(){return _createClass(function e(t,n){_classCallCheck(this,e),this.object=t,this.container=document.querySelector(n),this.correctAnswers=t.map(function(e){return e.correctAnswerIndex}),this.answeredQuestions=new Set,this.score=0,this.resultBox=document.createElement("div"),this.resultBox.id="resultBox",this.init()},[{key:"generateAnswer",value:function(e,t,n){return'\n            <li class="question_answer" data-question="'.concat(n,'" data-index="').concat(t,'">\n              <span class="count">0').concat(t+1,"</span> ").concat(e,"\n            </li>")}},{key:"renderQuestionCard",value:function(e,t){var n=this,r="";this.parseOptions(e.options).forEach(function(e,o){r+=n.generateAnswer(e,o,t)});var o=t+1,a={img:""};if(console.log(e.files),e.files){var i=e.files.find(function(e){return"question_img"===e.name_used});a=i?{img:"/client/images/questions/large/".concat(i.name,".").concat(i.ext)}:{img:"/client/images/404.jpg"}}return'\n            <div class="questionCard">\n              <div class="badge">'.concat(o<10?"0"+o:o,'</div>\n              <div class="image" id="lightgallery">\n                <a href="').concat(a.img,'" class="gallery_item scroll_animate">\n                    <img src="').concat(a.img,'" />\n                </a>\n              </div>\n              <div class="card_body">\n                <h3 class="title">').concat(e.question,'</h3>\n                <ul class="question_answers">').concat(r,"</ul>\n              </div>\n            </div>")}},{key:"parseOptions",value:function(e){try{return"string"==typeof e?JSON.parse(e):e}catch(t){return console.warn("Invalid options JSON:",e),[]}}},{key:"renderQuestions",value:function(){var e=this;this.container.innerHTML="",this.object.forEach(function(t,n){e.container.innerHTML+=e.renderQuestionCard(t,n)}),this.container&&this.container.appendChild(this.resultBox)}},{key:"handleClicks",value:function(){var e=this;document.querySelectorAll(".question_answer").forEach(function(t){t.addEventListener("click",function(){var n=parseInt(t.dataset.question),r=parseInt(t.dataset.index),o=e.correctAnswers[n],a=t.parentElement.querySelectorAll(".question_answer");e.answeredQuestions.has(n)||(a.forEach(function(e,t){e.style.pointerEvents="none",t===o&&(e.style.backgroundColor="#d4edda",e.style.color="#155724"),t===r&&r!==o&&(e.style.backgroundColor="#f8d7da",e.style.color="#721c24")}),e.answeredQuestions.add(n),r===o&&e.score++,e.answeredQuestions.size===e.object.length&&(e.resultBox.innerHTML='\n                        <div class="result">\n                          <i class="fa-solid fa-circle-check" style="font-size: 20px; color: #00DE3B"></i> \n                          Դու պատասխանել ես '.concat(e.object.length,"-ից <strong>").concat(e.score,"</strong> ճիշտ հարցի։\n                        </div>")))})})}},{key:"init",value:function(){this.container&&(this.renderQuestions(),this.handleClicks())}}])}(),selectQuestionTest=document.querySelector("#select_tests"),selectQuestionGroup=document.querySelector("#select_groups");function handleSelectChange(e){return _handleSelectChange.apply(this,arguments)}function _handleSelectChange(){return(_handleSelectChange=_asyncToGenerator(_regenerator().m(function e(t){var n,r,o,a;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(n=t.target.value,"selected_test"!==(r=t.target.name)){e.n=3;break}if("*"!==n){e.n=1;break}return new Questions([],".tests_page .question_card"),e.a(2);case 1:return e.n=2,doAxios("/api/v1/tests/".concat(n));case 2:o=e.v,new Questions(o.data.test.questions,".tests_page .question_card"),e.n=6;break;case 3:if("selected_groups"!==r){e.n=6;break}if("*"!==n){e.n=4;break}return new Questions([],".groups_page .question_card"),e.a(2);case 4:return e.n=5,doAxios("/api/v1/groups/".concat(n));case 5:a=e.v,new Questions(a.data.group.questions,".groups_page .question_card");case 6:return e.a(2)}},e)}))).apply(this,arguments)}function validateBootstrap(e){var t=!0;return e.querySelectorAll("input, textarea").forEach(function(e){e.value=e.value.trim(),e.checkValidity()||(t=!1)}),e.checkValidity()||(t=!1),e.classList.add("was-validated"),t}function doAxios(e){return _doAxios.apply(this,arguments)}function _doAxios(){return _doAxios=_asyncToGenerator(_regenerator().m(function e(t){var n,r,o,a,i,s,c=arguments;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"GET",r=c.length>2&&void 0!==c[2]?c[2]:{},e.p=1,e.n=2,axios({url:t,method:n,data:r,headers:{"Content-Type":"multipart/form-data"}});case 2:return a=e.v,e.a(2,{success:!0,status:a.status,data:a.data,error:!1,message:(null===(o=a.data)||void 0===o?void 0:o.message)||"Հաջող է"});case 3:if(e.p=3,!(s=e.v).response){e.n=4;break}return e.a(2,{success:!1,status:s.response.status,data:null,error:!0,message:(null===(i=s.response.data)||void 0===i?void 0:i.message)||"Սերվերից սխալ է ստացվել"});case 4:return e.a(2,{success:!1,status:null,data:null,error:!0,message:s.message||"Ցանցի կամ անհայտ սխալ"})}},e,null,[[1,3]])})),_doAxios.apply(this,arguments)}function handlerNotify(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#1aff00";return Swal.fire({position:"top-end",icon:t,title:e,showConfirmButton:!1,timer:3e3,background:"#1e1e1e",color:"#f0f0f0",iconColor:n})}function setFormLoading(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.querySelector('button[type="submit"]');n&&(n.disabled=t)}function setupNavLinks(){document.querySelectorAll("a[data-section]").forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.getAttribute("data-section");if("/"===window.location.pathname||"/"===window.location.pathname){var r=document.querySelector("#".concat(n));r&&r.scrollIntoView({behavior:"smooth"})}else window.location.href="/".concat(n?"#"+n:"")})})}function exposePass(){var e=document.getElementById("xPassword");"password"===e.type?e.type="text":e.type="password"}function capLock(e){kc=e.keyCode?e.keyCode:e.which,sk=e.shiftKey?e.shiftKey:16==kc,kc>=65&&kc<=90&&!sk||kc>=97&&kc<=122&&sk?document.getElementById("capsOn").style.visibility="visible":document.getElementById("capsOn").style.visibility="hidden"}function initPasswordToggle(){document.querySelectorAll(".input_field").forEach(function(e){var t=e.querySelector('input[type="password"]');if(t){var n=document.createElement("button");n.type="button",n.classList.add("password-show"),n.innerHTML='<i class="fa-solid fa-eye-slash"></i>',n.addEventListener("click",function(){"password"===t.type?(t.type="text",n.innerHTML='<i class="fa-solid fa-eye"></i>'):(t.type="password",n.innerHTML='<i class="fa-solid fa-eye-slash"></i>')}),e.appendChild(n)}})}function changeProfileImage(){document.querySelector("input[type=file]").addEventListener("change",function(){var e=_asyncToGenerator(_regenerator().m(function e(t){var n,r,o,a,i;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!(n=this.files[0])){e.n=4;break}return r=document.querySelector(".profile-img"),o=document.querySelector(".profime-sm-image"),r.src=URL.createObjectURL(n),o.src=URL.createObjectURL(n),(a=new FormData).append("user_img",n),e.p=1,e.n=2,doAxios("/api/v1/user/updateme","patch",a);case 2:400===e.v.status&&(r.src="./client/images/no-image-profile.jpg",o.src="./client/images/no-image-profile.jpg"),e.n=4;break;case 3:e.p=3,i=e.v,console.error("Upload failed:",i);case 4:return e.a(2)}},e,this,[[1,3]])}));return function(t){return e.apply(this,arguments)}}())}_asyncToGenerator(_regenerator().m(function e(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(!selectQuestionTest){e.n=2;break}return e.n=1,doAxios("/api/v1/tests");case 1:e.v.data.tests.forEach(function(e){selectQuestionTest.innerHTML+='<option value="'.concat(e.id,'">').concat(e.slug,"</option>")});case 2:if(!selectQuestionGroup){e.n=4;break}return e.n=3,doAxios("/api/v1/groups");case 3:e.v.data.groups.forEach(function(e){selectQuestionGroup.innerHTML+='<option value="'.concat(e.id,'">').concat(e.slug,"</option>")});case 4:return e.a(2)}},e)}))(),selectQuestionTest&&selectQuestionTest.addEventListener("change",handleSelectChange),selectQuestionGroup&&selectQuestionGroup.addEventListener("change",handleSelectChange),function(){var e={threshold:Array.from({length:101},function(e,t){return t/100})},t=new IntersectionObserver(function(e,t){e.forEach(function(e){var t=e.target;e.intersectionRatio>0?(t.style.transition="transform 0.3s ease-out, opacity 0.3s ease-in-out",t.style.transform="translateY(".concat(100*(1-e.intersectionRatio),"px)"),t.style.opacity=e.intersectionRatio):(t.style.transform="translateY(100px)",t.style.opacity="0")})},e);document.querySelectorAll(".scroll_animate").forEach(function(e){t.observe(e)})}(),document.addEventListener("DOMContentLoaded",function(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).forEach(function(e){new bootstrap.Tooltip(e)})}),changeProfileImage(),initPasswordToggle(),setupNavLinks();var accordionCollapseElementList=document.querySelectorAll("#headingThree .collapse"),accordionCollapseList=_toConsumableArray(accordionCollapseElementList).map(function(e){return new bootstrap.Collapse(e)});
//# sourceMappingURL=main.js.map
